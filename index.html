<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buddhist counter</title>
    <meta name="google-site-verification" content="rBEhW9MugYE6g84ujeJ4sbt90DhMpjkgjt4nfNBnT8M" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
<link rel="apple-touch-icon" sizes="180x180" href="/buddhistCounter/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/buddhistCounter/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/buddhistCounter/favicon-16x16.png">
<link rel="manifest" href="/buddhistCounter/site.webmanifest">
    <style>


        @font-face {
            font-family: 'Seven Segment';
            src: url('/buddhistCounter/Digital7-rg1mL.ttf') format('truetype');
        }
        body {
            text-align: center;
            background-image: url("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSvzFntnV72NeHWxl9pgE7qCqWGPgeNm8YcRQ&s");
            background-repeat: none;
            background-size: cover;
            background-position: center;
            font-family: open sans;
            justify-content: center;
            
        }

        #rounders {
            font-size: 50px;
        }

        #counter {
            font-size: 80px;
        }

        #adder {
            height: 48vh;
            width: 58vw;
            padding-left: 10%;
            font-size: 40vh;
            background-image: url("https://freesvg.org/img/1541102871.png");
            background-repeat: no-repeat;
            background-size: cover;
            
            
        }

        #reset, #resetLock {
            height: 48vh;
            margin: 0;
            
            
            
        }

        #resetLock {
           
            left: 9vh;
            
        }

        button {
            background-color: rgb(30,100,50);
            margin: 3px;
            color: lightgrey;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid white;
            border-radius: 3px;
        }

        .screen {
            background-color: rgba(175, 250, 200, 0.6);
            border-radius: 3px;
            border: 2px solid white;
            font-family: 'Seven Segment', monospace;
            color: black;
            
        }

        .buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            background-color: rgba(255,255,255,0.6);
        }

        button:disabled {
            background-color: rgba(0,165,50, 0.7);
            opacity: 0.9;
            
            
        }

        button:active {
            background-color: rgb(20, 150, 90);
            
        }

        img {
            max-height: 25vh;
            max-width: 20vh;
            opacity: 0.7;
        }

        #budMus, #budMus2,#rank {
            height: 110%;
            width: 85%;
        }

        .activer {
            background-color: rgb(20,140,50);
            margin: 0;
            border: white;
            border-bottom: 1px solid black;
            
        }

        .pyramid {
            width: 100%;
            text-align: center;
            
        }

        #dial {
            background-color: green;
        }
    </style>
</head>
<body>
    <div class="screen">
    <h1>Buddha Counter</h1>
    <h2 id="counter">0</h2>
    <h3 id="rounders">Rounds: 0 (every 108)</h3>
    </div>
    <div class="buttons">
    <button id="resetLock" onclick="resetLocks()">Simple Mode</button>
    <button id="adder" onclick="plus1()"></button>
    <button id="reset" onclick="resets()">Reset</button>
        <audio id="budAud" src="/buddhistCounter/medicine-buddha-mantra-remove-illness-heal-bad-karma-find-peace-312725.mp3" loop></audio>
    <button id="budMus" onclick="budMusic()">Music</button>
        <button id="budMus2" onclick="stopAud()">Stop Audio</button>
        <button id="rank" onclick="ranking()">Your Level</button>
    </div>
    <dialog id="dial">
        <h3>Your Level</h3>
        <div class="pyramid">
            <p>Starter (10 or below)</p>
            <p>Casual (11-500)</p>
            <p>Focus (501-1000)</p>
            <p>Extreme (1001-5000)</p>
            <p>Ultra (5001+)</p>
        </div>
        <button onclick="dial.close()">Close</button>
    </dialog>

    <script>
        const counter = document.getElementById("counter")
        const rounder = document.getElementById("rounders")
        const adder = document.getElementById("adder")
        const reset = document.getElementById("reset")
        const resetLock = document.getElementById("resetLock")
        
        const budMus = document.getElementById("budMus")
        const budMus2 = document.getElementById("budMus2")
        const budAud = document.getElementById("budAud")

        const rank = document.getElementById("rank")
        const dial = document.getElementById("dial")

        let count = parseInt(localStorage.getItem("count")) || 0
        let rounds = parseInt(localStorage.getItem("rounds")) || 0

        localStorage.setItem("count", count)
        localStorage.setItem("rounds", rounds)

        counter.innerHTML = count
        rounder.innerHTML = "Rounds: " + rounds

        function plus1() {
            count++
            activateMus()
            counter.innerHTML = count
            localStorage.setItem("count", count)
            if (count % 108 === 0 && count > 0) {
                rounds++
                rounder.innerHTML = "Rounds: " + rounds
                localStorage.setItem("rounds", rounds)
            }

        }

        function resets() {
            count -= count
            rounds -= rounds

            counter.innerHTML = count
            localStorage.setItem("count", count)

            rounder.innerHTML = rounds
                localStorage.setItem("rounds", rounds)

        }

        if (count % 108 === 0 && count > 0) {
                rounds++
                rounder.innerHTML = "Rounds: " + rounds
                localStorage.setItem("rounds", rounds)
            }

            function resetLocks() {
            reset.disabled = true
            budMus.disabled = true
            
            
            resetLock.onclick = function() {
                reset.disabled = false
                budMus.disabled = false
                resetLock.onclick = resetLocks
            }
        }


        function budMusic() {
            if (budAud.paused) {
            budAud.play()
            }

            else {
            budAud.pause()
            }
            

            
        }
        let audPlay = true
        function activateMus() {
            if (audPlay) {
            const aud2 = new Audio("/BuddhistCounter/light-switch-on-382714.mp3")
            aud2.play
            }

            
        }
        function stopAud() {
            if (audPlay) {
            audPlay = false
            }

            else {
                audPlay = true
            }
        }

        function ranking() {
            dial.showModal()
            let levelling = dial.querySelectorAll("p")
            levelling.forEach(p => p.classList.remove("active"))
            let i;
                if (count <= 10){
                    i = 0
                }

                else if (count <= 500) {
                    i = 1
                }

            else if (count <= 1000) {
                    i = 2
                }
            else if (count <= 5000) {
                    i = 3
                }
            else {
                i = 4
            }
            levelling[i].classList.add("activer")
            }
        



    
    </script>
</body>
</html>
